<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<head>
  <title>XML file to JSON</title>

  <script type="text/javascript" src="xml2json.js"></script>
  <script type="text/javascript">
    async function convertXML(event) {
      const file = event.target.files.item(0)
      const text = await file.text();

      const parser = new DOMParser();
      var xml =
        parser.parseFromString(text, "text/xml");
      var json = xml2json(xml, "");
      var content = document.getElementById("output");
      content.innerText = json;
    }

    function copyToClipBoard() {
      var content = document.getElementById('output');
      content.select();
      document.execCommand('copy');
      document.getElementById('info').innerText = "Copied!";
    }
  </script>
</head>

<body>
  <header class="w3-container w3-card">
    <h1>XML file to JSON</h1>
  </header>

  <div class="w3-container">
    <input class="w3-btn w3-blue" style="width:100%; text-align: left" type="file" onchange="convertXML(event)" /><br>
    <textarea class="w3-panel" id="output" rows="10" style="width: 100%"></textarea><br>
    <button class="w3-btn w3-blue" style="width:100%" onclick="copyToClipBoard()">Copy</button>
    <p class="w3-panel w3-border" id="info">...</p>
    <p>Using <a href="https://goessner.net/download/prj/jsonxml/">xml2json</a> under <a
        href="https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html">LGPL</a></p>
  </div>
</body>

</html>