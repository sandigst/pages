<!doctype html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3pro.css">

<head>
  <title>XML file to JSON</title>
  <script type="text/javascript" src="xml2json.js"></script>
  <script type="text/javascript">
    async function convertXML(event) {
      const file = event.target.files.item(0)
      const text = await file.text();

      const parser = new DOMParser();
      var xml =
        parser.parseFromString(text, "text/xml");
      var json = xml2json(xml, "");
      var content = document.getElementById("output");
      content.innerText = json;
    }

    function copyToClipBoard() {
      var content = document.getElementById('output');
      content.select();
      document.execCommand('copy');
      document.getElementById('info').innerText = "Copied!";
    }
  </script>
</head>

<body>
  <h1>XML file to JSON</h1>
  <p>Using <a href="https://goessner.net/download/prj/jsonxml/">xml2json</a> by Stefan Goessner</p>
  <input type="file" onchange="convertXML(event)" /><br />
  <textarea id="output" rows="10" cols="50"></textarea><br />
  <button onclick="copyToClipBoard()">Copy</button>
  <p id="info"></p>
</body>

</html>